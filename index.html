<!DOCTYPE html>
<html lang="en">
<head>
  <base href="/JavaScript30/">
  <meta charset="UTF-8">
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css">
  <style>
    .list-group-item:hover {
      cursor: pointer;
    }
  </style>
  <title>JavaScript 30 Day Challenge</title>
</head>
<body>
  <div class="container">
    <h1><a href="https://JavaScript30.com">JavaScript 30 Day Challenge</a></h1>
    <h2>Реализация каждой задачи из курса</h2>

    <ol id="tasksList" class="list-group"></ol>
  </div>

  <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"></script>
  <script>
    const tasks = [
      'JavaScript Drum Kit',
      'JS and CSS Clock',
      'CSS Variables',
      'Array Cardio Day 1',
      'Flex Panel Gallery',
      'Type Ahead',
      'Array Cardio Day 2',
      'Fun with HTML5 Canvas',
      'Dev Tools Domination',
      'Hold Shift and Check Checkboxes',
      'Custom Video Player',
      'Key Sequence Detection',
      'Slide in on Scroll',
      'JavaScript References VS Copying',
      'LocalStorage',
      'Mouse Move Shadow',
      'Sort Without Articles',
      'Adding Up Times with Reduce',
      'Webcam Fun',
      'Speech Detection',
      'Geolocation',
      'Follow Along Link Highlighter',
      'Speech Synthesis',
      'Sticky Nav',
      'Event Capture, Propagation, Bubbling and Once',
      'Stripe Follow Along Nav',
      'Click and Drag',
      'Video Speed Controller',
      // 'Countdown Timer',
      // 'Whack A Mole'
    ];

    updateTasksList();
    delegateLiToA();

    function updateTasksList() {
      const tasksList = document.getElementById('tasksList');
      let html = '';
      tasks.forEach((task, i) => {
        let number = i + 1;
        if (i < 9) {
          number = '0' + number
        }

        html += `
          <li class="list-group-item list-group-item-action">
            <a href="${number} - ${task}">${number} – ${task}</a>
          </li>`;
      });
      tasksList.innerHTML = html;
    }

    function delegateLiToA() {
      const lis = document.querySelectorAll('li');
      lis.forEach(li => {
        li.addEventListener('click', () => {
          const a = li.querySelector('a');
          const ref = a.attributes.href.value;
          location.href = ref;
        });
      });
    }
  </script>
</body>
</html>
